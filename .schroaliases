##################################
### useful schrodinger aliases ###
##################################

# TODO look and play with these
# to simply search for all filenames in the current directory which contain the given string
#find $PWD -iname \*${1}\*
#find $PWD -path /scr/kivenson/chroot6 -prune -o -iname \*${1}\* -print
# grep -r --exclude-dir=".git" "${1}" ${PWD}
# gf term_table

export OLDDESK="schile@pdx-desk-l90.schrodinger.com"
export SCHROALIASES=$DOTFILES/.schroaliases
export SCRATCH='/scr/schile'
export WORKING=$SCRATCH/working
export JOBTMPDIR='/scr/schile/jobs'

### docker container stuff
alias rocky='cd && make -C core-build-container/rocky8 shell'
alias centos='cd && make -C core-build-container/centos7 shell'

### stu aliases
stu_extract='$SCHRODINGER/utilities/stu_extract'
stu_modify='$SCHRODINGER/utilities/stu_modify'

### schrodinger workflow aliases
# python
alias spy='$SCHRODINGER/run python3'
alias sipy='$SCHRODINGER/run ipython'
# pytest script
alias ptest='${SCHRODINGER}/utilities/py.test'
# code formatting
#alias yapf="$SCHRODINGER/buildvenv/1f240e2/bin/yapf"

### general environment aliases
# build script
alias buildinger='$SCHRODINGER_SRC/mmshare/build_tools/buildinger.sh'
alias buildinger_debug='$SCHRODINGER_SRC/mmshare/build_tools/buildinger.sh --build-version=Linux-x86_64.g'
alias build='$SCHRODINGER_SRC/mmshare/build_tools/buildinger.sh'
alias buildingerbolt='export BUILD_COMPUTE_CAPABILITIES=61,75 && buildinger --rsync=bolteub2:/home/schile/${SCHRODINGER}'
# source the build environment
alias sbe='source $SCHRODINGER_SRC/mmshare/build_env'
alias libup='$SCHRODINGER_SRC/mmshare/build_tools/buildinger.sh --without-build mmshare'
# run schrodinger
alias srun='$SCHRODINGER/run'
# cd to build directory
alias cdb='cd $SCHRODINGER'
# cd to source directory
alias cds='cd $SCHRODINGER_SRC'
# cd to working dir
alias cdw='cd $WORKING'

### schrodinger suite commands
#alias maestro="/opt/schrodinger/suites*/maestro"
alias maestro='$SCHRODINGER/maestro'

### schrodinger hpc
# job server command
alias jsc='$SCHRODINGER/jsc'
# bolt cluster ssh
alias bolt="ssh schile@boltsub2.schrodinger.com"
# hai nguyen desktop ssh
alias haicpu="ssh schile@nyc-desk-l118.schrodinger.com"
# my desktop ssh
alias mydesk="ssh schile@pdx-desk-l90.schrodinger.com"

### mmshare related aliases
# cd to the mmshare source
alias cdms='cd $SCHRODINGER_SRC/mmshare/'
alias cdmdes='cd $SCHRODINGER_SRC/mmshare/python/modules/schrodinger/application/desmond/'
# cd to the mmshare build
alias cdmb='cd $SCHRODINGER/mmshare-v*/'
# cd to the mmshare tests
alias cdmt='cd $SCHRODINGER/mmshare-v*/python/test'
# make mmshare - copies python module files to build dir and then cds to test
# mkm && make test TEST_ARGS='./blah' - does the copy and subsequently makes the tests
alias mkm='cd $SCHRODINGER/mmshare-v*/python/modules && make schrodinger_modules && cdmt'
alias mkmt='cd $SCHRODINGER/mmshare-v*/ && make python-install-tests && cdmt'
alias runmt="cdmt && make test TEST_ARGS=\"-n=auto --post-test application/desmond\""

### scisol related aliases
# cd to the scisol source
alias cdss='cd $SCHRODINGER_SRC/scisol-src/'
alias cdsfep='cd $SCHRODINGER_SRC/scisol-src/modules/fep/'
# cd to the scisol build
alias cdsb='cd $SCHRODINGER/scisol-v*/'
# cd to the scisol tests
alias cdst='cd $SCHRODINGER/scisol-v*/'
# make scisol - same stuff as above, but about scisol
alias mkss='cd $SCHRODINGER/scisol*/ && make all'
alias mkst='cd $SCHRODINGER/scisol*/ && make install_tests'
# run scisol tests
alias runssfept="cdst && make test TEST_ARGS=\"-n=auto --post-test test/fep\""
alias runsst="cdst && make test TEST_ARGS=\"-n=auto --post-test test\""

### desmond related aliases
# cd to the desmond source
alias cdds='cd $SCHRODINGER_SRC/desmond-gpu-src/'
# cd to the desmond build
alias cddb='cd $SCHRODINGER/desmond-v*/'
# cd to the desmond tests
alias cddt='cd $SCHRODINGER_SRC/desmond-gpu-src/test'
# make desmond - same stuff as above, but about desmond
alias mkd='cd $SCHRODINGER/desmond-*/ && make install_schrodinger_modules install_schrodinger_scripts'
# source desmond env
alias sdes='source $SCHRODINGER/desmond-v*/bin/Linux-x86_64/unit-tests/desmond_test_env.sh'
